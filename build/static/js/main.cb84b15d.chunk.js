(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{39:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),i=n(10),s=n.n(i),o=n(5),u=n(6),l=n(25),j=(n(39),n(2)),b=n(4),d=n.n(b),p=n(7),f=n(8),O=n.n(f),h="https://memories4.herokuapp.com/posts",x=function(e,t){return O.a.patch("".concat(h,"/").concat(e),t)},v=function(e){return O.a.delete("".concat(h,"/").concat(e))},g=function(e){return O.a.patch("".concat(h,"/").concat(e,"/likePost"))},m="CREATE",y="FETCH_ALL",k="UPDATE",C="DELETE",w="LIKE",F=n.p+"static/media/loading.8a29391e.gif",E=function(){var e=Object(o.c)((function(e){return e.postsStore})),t=Object(o.b)(),n=function(n){var c=e.find((function(e){return e._id===n})),r=Object(j.a)(Object(j.a)({},c),{},{creator:"jezups"});t(function(e,t){return function(){var n=Object(p.a)(d.a.mark((function n(c){var r,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,x(e,t);case 3:r=n.sent,a=r.data,c({type:k,post:a}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(n,r)),console.log(r)},r=function(e){t(function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(e);case 3:n({type:C,postId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(e))},a=function(e){t(function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g(e);case 3:n({type:w,postId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(c.jsx)("div",{children:Object(c.jsx)("div",{children:e.length?e.map((function(e,t){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:e.creator}),Object(c.jsx)("div",{children:e.messege}),Object(c.jsx)("img",{src:e.selectedFile,alt:"bilde",width:100}),Object(c.jsxs)("h3",{children:["Likes: ",e.likeCount]}),Object(c.jsx)("button",{onClick:function(){a(e._id)},children:"Like"}),Object(c.jsx)("button",{onClick:function(){n(e._id)},children:"edit post"}),Object(c.jsx)("button",{onClick:function(){r(e._id)},children:"DELETE POST"}),Object(c.jsx)("hr",{})]},JSON.stringify(t))})):Object(c.jsx)("img",{src:F,alt:""})})})},_=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Posts"}),Object(c.jsx)(E,{})]})},I=n(26),L=function(){var e=Object(r.useState)({creator:"",title:"",messege:"",tags:"",selectedFile:""}),t=Object(I.a)(e,2),n=t[0],a=t[1],i=Object(r.useRef)(null),s=Object(o.b)(),u=function(){var e;i.current.value="",s((e=n,function(){var t=Object(p.a)(d.a.mark((function t(n){var c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a=e,O.a.post(h,a);case 3:c=t.sent,r=c.data,n({type:m,post:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var a}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())),a({creator:"",title:"",messege:"",tags:"",selectedFile:""})};return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{autoComplete:"off",style:{display:"inline-flex",flexDirection:"column"},onSubmit:function(e){e.preventDefault(),u()},children:[Object(c.jsx)("h6",{children:"Creating a memory"}),Object(c.jsx)("input",{placeholder:"Creator",onChange:function(e){a(Object(j.a)(Object(j.a)({},n),{},{creator:e.target.value}))},value:n.creator,id:"name",type:"text",required:!0}),Object(c.jsx)("input",{placeholder:"Title",onChange:function(e){a(Object(j.a)(Object(j.a)({},n),{},{title:e.target.value}))},value:n.title,id:"title",type:"text",required:!0}),Object(c.jsx)("input",{placeholder:"message",onChange:function(e){a(Object(j.a)(Object(j.a)({},n),{},{messege:e.target.value}))},value:n.messege,id:"messege",type:"text",required:!0}),Object(c.jsx)("input",{placeholder:"tags",onChange:function(e){a(Object(j.a)(Object(j.a)({},n),{},{tags:e.target.value,selectedFile:""}))},value:n.tags,id:"tags",type:"text",required:!0}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{ref:i,onChange:function(e){!function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){a(Object(j.a)(Object(j.a)({},n),{},{selectedFile:t.result}))}}(e.target.files[0]),a(Object(j.a)(Object(j.a)({},n),{},{selectedFile:"converImg(e.target.value)"}))},id:"file",type:"file",required:!0}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{type:"submit",children:"Sumbmit"})]})})},S=function(){var e=Object(o.b)();return Object(r.useEffect)((function(){e(function(){var e=Object(p.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(h);case 2:n=e.sent,c=n.data,t({type:y,posts:c});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(c.jsxs)("div",{style:{textAlign:"center"},className:"container",children:[Object(c.jsx)("h1",{children:"Memories"}),Object(c.jsx)("img",{src:"https://raw.githubusercontent.com/adrianhajdin/project_mern_memories/master/client/src/images/memories.png?token=AF56X74XONEUGZ4FD2FUIA27UURPI",alt:"memories",width:200}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsx)(_,{})}),Object(c.jsx)("div",{children:Object(c.jsx)(L,{})})]})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},D=n(27),A=[],P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.posts;case m:return[].concat(Object(D.a)(e),[t.post]);case k:return e.map((function(e){return e._id===t.post._id?t.post:e}));case C:return e.filter((function(e){return e._id!==t.postId}));case w:return e.map((function(e){return e._id===t.postId?Object(j.a)(Object(j.a)({},e),{},{likeCount:e.likeCount+1}):e}));default:return e}},U=Object(u.c)({postsStore:P}),q=Object(u.d)(U,Object(u.a)(l.a));s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(o.a,{store:q,children:Object(c.jsx)(S,{})})}),document.getElementById("root")),T()}},[[59,1,2]]]);
//# sourceMappingURL=main.cb84b15d.chunk.js.map